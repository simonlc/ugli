<head>
  <title>UGLI</title>
</head>

<body>
  {{> top_bar}}
  <div id="remainder">
    {{#if logged_in}}
      {{> main_content}}
    {{else}}
      {{> signed_out_message}}
    {{/if}}
  </div>
</body>

<template name="top_bar">
  <div id="top-bar" class="navbar navbar-default navbar-fixed-top">
    <div class="container-fluid">
      <div class="navbar-header">
        <a class="navbar-brand">UGLI</a>
      </div>
      <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav navbar-right">
          {{#if logged_in}}
            <li><a>{{> loginButtons}}</a></li>
          {{/if}}
        </ul>
      </div>
    </div>
  </div>
</template>

<template name="main_content">
  <div id="main-content" class="row">
    <div id="left-content" class="col-md-8">
      {{> game_list}}
      {{> chat_box }}
    </div>
    <div id="right-content" class="col-md-4">
      {{> options_box }}
      {{> player_list }}
    </div>
  </div>
</template>

<template name="game_list">
  <div id="game-list" class="panel panel-info">
    <div class="panel-heading">
      <h4 class="panel-title">Games</h4>
    </div>
    <div class="panel-body">
      <table class="table table-striped table-hover ">
        <thead>
          <tr>
            <th>Room</th>
            <th>Creator</th>
            <th>Rules</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          {{#each games}}
            <tr>
              <td>{{name}}</td>
              <td>{{creator}}</td>
              <td>{{rules}}</td>
              <td>{{state}} ({{num_players}}/{{max_players}})</td>
            </tr>
          {{/each}}
        </tbody>
      </table>
    </div>
  </div>
</template>

<template name="chat_box">
  <div id="chat-box" class="panel panel-warning">
    <div class="panel-heading">
      <h4 class="panel-title">Chat</h4>
    </div>
    <ul id="chat-message-list" class="panel-body">
      {{#each chats}}
        <li class="chat-message">
          <div class="chat-sender">{{sender}}:</div>
          {{message}}
        </li>
      {{/each}}
    </ul>
    <div class="panel-footer">
      <div class="chat-left">Enter a message:</div>
      <input id="chat-input" type="text">
    </div>
  </div>
</template>

<template name="options_box">
  <div id="options-box" class="panel panel-success">
    <div class="panel-heading">
      <h4 class="panel-title">Options</h4>
    </div>
    <div class="panel-body">
      Options go here...
    </div>
  </div>
</template>

<template name="player_list">
  <div id="player-list" class="panel panel-primary">
    <div class="panel-heading">
      <h4 class="panel-title">Players</h4>
    </div>
    <div class="panel-body">
      <div class="player-row">{{num_players}} {{player_str}} online</div>
      {{#each players}}
        <div class="player-row">{{this}}</div>
      {{/each}}
    </div>
  </div>
</template>

<template name="signed_out_message">
  <div id="signed-out-message">
    {{> loginButtons}} to play a game on UGLI.
  </div>
</template>
