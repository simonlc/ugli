<head>
  <title>UGLI</title>
</head>

<body>
  {{> top_bar}}
  <div id="remainder-wrapper">
    <div id="remainder">
      {{> side_bar}}
      {{> main_content}}
    </div>
  </div>
  {{#constant}}
    <div id="game-ui-container"></div>
  {{/constant}}
</body>

<template name="top_bar">
  <div id="top-bar-wrapper">
    <div id="top-bar">
      <span id="nav-title">UGLI</span>
      {{loginButtons}}
    </div>
    <div id="tab-bar">
      {{#each rooms}}
        <div class="room-tab {{selected}}" data-room-id="{{_id}}">
          {{name}}
        </div>
      {{/each}}
    </div>
  </div>
</template>

<template name="side_bar">
  {{#if logged_in}}
    <div id="side-bar" class="logged-in">
      {{> user_list}}
      {{> chat_box}}
    </div>
  {{/if}}
</template>

<template name="user_list">
  <div id="user-wrapper" class="full-height">
    <ul id="user-list">
      <li class="num_users">{{num_users}} users</li>
      {{#each users}}
        <li>{{username}}</li>
      {{/each}}
    </ul>
  </div>
</template>

<template name="chat_box">
  <div id="chat-wrapper">
    <ul id="message-list" class="full-height">
      {{#each chats}}
        <li>
          <span class="sender">{{sender}}:</span>
          {{message}}
        </li>
      {{/each}}
    </ul>
    <div id="chat-input-wrapper">
      <div id="chat-message">Message:</div>
      <input id="chat-input" type="text">
    </div>
  </div>
</template>

<template name="main_content">
  <div id="main-content">
    {{#if logged_in}}
      {{#unless in_game}}
        {{> config_box}}
        {{> games_list}}
      {{/unless}}
    {{else}}
      Sign in using the buttons in the top right.
    {{/if}}
  </div>
</template>

<template name="config_box">
  <!-- This box will be populated on render by an UGLI client. -->
  <div id="config-box"></div>
</template>

<template name="games_list">
  <div id="games-list-wrapper">
    <div id="games-list">
      {{#each games}}
        <div class="game">
          <div class="game-name">{{name}}</div>
          <button class="join-button">Join</button>
          <div class="game-size">{{user_ids.length}} players</div>
        </div>
      {{/each}}
    </div>
  </div>
</template>
